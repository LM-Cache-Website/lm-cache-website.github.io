Search.setIndex({"alltitles": {"3 Min Quick Example: Docker + Speedup with vLLM": [[26, null]], "Advanced": [[27, null]], "Building Docker from Source": [[23, "building-docker-from-source"]], "CPU Offloading": [[19, null]], "Clean up": [[26, "clean-up"]], "Configure LMCache": [[27, null]], "Configuring LMCache v0": [[4, null]], "Configuring LMCache v1": [[6, null]], "Detailed Examples": [[27, null]], "Developer Documentation": [[27, null]], "Disaggregated prefill": [[20, null]], "Docker Installation": [[23, null]], "Documentation": [[27, "documentation"]], "End-to-end measurements": [[17, null]], "Getting Started": [[27, null]], "How to:": [[15, "how-to"], [16, "how-to"], [18, "how-to"]], "Install from source (v0)": [[24, "install-from-source-v0"]], "Install from source (v1)": [[24, "install-from-source-v1"]], "Install pip released versions (v0)": [[24, "install-pip-released-versions-v0"]], "Installation Guide": [[24, null]], "Introduction": [[26, "introduction"]], "KV Blending": [[0, null]], "KV blending": [[15, null]], "KVCache Evictor": [[1, null]], "LMCache Backend Interface": [[7, null]], "LMCache Engine Interface": [[8, null]], "LMCache GPU Connector Interface": [[9, null]], "LMCache Memory Interface": [[10, null]], "LMCache Memory Object": [[11, null]], "LMCache Overview": [[12, null]], "LMCache v0": [[3, null], [14, null], [25, "lmcache-v0"]], "LMCache v1": [[5, null], [21, null], [25, "lmcache-v1"]], "Models": [[27, null]], "P2P KV Cache Sharing": [[22, null]], "Performance metrics": [[17, "performance-metrics"]], "Prerequisites": [[22, "prerequisites"], [26, "prerequisites"]], "Pulling the Docker Image:": [[23, "pulling-the-docker-image"]], "Quickstart": [[25, null]], "Requirements": [[24, "requirements"]], "Run the demo": [[26, "run-the-demo"]], "Running further tests": [[17, "running-further-tests"]], "Running the Docker Container": [[23, "running-the-docker-container"]], "Running the tests": [[17, "running-the-tests"]], "Saving the decode cache": [[18, null]], "Selecting a backend": [[13, null]], "Steps": [[22, "steps"]], "Supported Models": [[28, null]], "Testing the Docker Container": [[23, "testing-the-docker-container"]], "Usage": [[16, null]], "Using a YAML configuration file": [[4, "using-a-yaml-configuration-file"], [6, "using-a-yaml-configuration-file"]], "Using environment variables": [[4, "using-environment-variables"], [6, "using-environment-variables"]], "Version Compatibility Matrix": [[24, "version-compatibility-matrix"]], "Welcome to LMCache!": [[27, null]], "What happens when you run the demo?": [[26, "what-happens-when-you-run-the-demo"]], "What steps do you need to perform?": [[26, "what-steps-do-you-need-to-perform"]], "What\u2019s next?": [[27, "what-s-next"]], "v0 Configure LMCache": [[3, null]], "v0 Examples": [[14, null]], "v1 Configure LMCache": [[5, null]], "v1 Examples": [[21, null]], "vLLM Integration": [[2, null]]}, "docnames": ["advanced/KVBlend", "advanced/KVEvictor", "advanced/vLLMIntegration", "configuration/v0/index", "configuration/v0/v0_config", "configuration/v1/index", "configuration/v1/v1_config", "developer_tutorial/BackendInterface", "developer_tutorial/EngineInterface", "developer_tutorial/GPUConnectorInterface", "developer_tutorial/MemoryInterface", "developer_tutorial/MemoryObject", "developer_tutorial/overview", "examples/v0/backend", "examples/v0/index", "examples/v0/kv_blending", "examples/v0/launching", "examples/v0/measuring_improvements", "examples/v0/save_decode", "examples/v1/cpu_offload", "examples/v1/disagg", "examples/v1/index", "examples/v1/p2p", "getting_started/docker", "getting_started/installation", "getting_started/quickstart", "getting_started/speedup", "index", "models/models"], "envversion": {"sphinx": 62, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx.ext.viewcode": 1}, "filenames": ["advanced/KVBlend.rst", "advanced/KVEvictor.rst", "advanced/vLLMIntegration.rst", "configuration/v0/index.rst", "configuration/v0/v0_config.rst", "configuration/v1/index.rst", "configuration/v1/v1_config.rst", "developer_tutorial/BackendInterface.rst", "developer_tutorial/EngineInterface.rst", "developer_tutorial/GPUConnectorInterface.rst", "developer_tutorial/MemoryInterface.rst", "developer_tutorial/MemoryObject.rst", "developer_tutorial/overview.rst", "examples/v0/backend.rst", "examples/v0/index.rst", "examples/v0/kv_blending.rst", "examples/v0/launching.rst", "examples/v0/measuring_improvements.rst", "examples/v0/save_decode.rst", "examples/v1/cpu_offload.rst", "examples/v1/disagg.rst", "examples/v1/index.rst", "examples/v1/p2p.rst", "getting_started/docker.rst", "getting_started/installation.rst", "getting_started/quickstart.rst", "getting_started/speedup.rst", "index.rst", "models/models.rst"], "indexentries": {}, "objects": {"lmcache.blend.executor": [[0, 0, 1, "", "CacheBlendImpl"]], "lmcache.blend.executor.CacheBlendImpl": [[0, 1, 1, "", "blend"], [0, 1, 1, "", "set_positional_encoder"], [0, 1, 1, "", "set_reverse_positional_encoder"]], "lmcache.blend.interfaces": [[0, 0, 1, "", "BlendExecutor"], [0, 0, 1, "", "BlendOutput"], [0, 0, 1, "", "BlendRetriever"], [0, 0, 1, "", "BlendRetrieverResult"], [0, 0, 1, "", "BlendRetrieverTask"]], "lmcache.blend.interfaces.BlendExecutor": [[0, 1, 1, "", "blend"]], "lmcache.blend.interfaces.BlendOutput": [[0, 2, 1, "", "k"], [0, 2, 1, "", "local_indices"], [0, 2, 1, "", "positions"], [0, 2, 1, "", "q"], [0, 2, 1, "", "query_start_loc"], [0, 2, 1, "", "v"]], "lmcache.blend.interfaces.BlendRetriever": [[0, 1, 1, "", "new_request"]], "lmcache.blend.interfaces.BlendRetrieverResult": [[0, 2, 1, "", "k"], [0, 2, 1, "", "original_positions"], [0, 2, 1, "", "v"], [0, 2, 1, "", "valid_mask"]], "lmcache.blend.interfaces.BlendRetrieverTask": [[0, 1, 1, "", "result"]], "lmcache.experimental.cache_engine": [[8, 0, 1, "", "LMCacheEngine"]], "lmcache.experimental.cache_engine.LMCacheEngine": [[8, 1, 1, "", "close"], [8, 1, 1, "", "lookup"], [8, 1, 1, "", "prefetch"], [8, 1, 1, "", "retrieve"], [8, 1, 1, "", "store"]], "lmcache.experimental.gpu_connector": [[9, 0, 1, "", "GPUConnectorInterface"], [9, 0, 1, "", "VLLMNestedTupleGPUConnector"], [9, 0, 1, "", "VLLMPagedMemGPUConnector"], [9, 0, 1, "", "VLLMPagedMemGPUConnectorV2"]], "lmcache.experimental.gpu_connector.GPUConnectorInterface": [[9, 1, 1, "", "from_gpu"], [9, 1, 1, "", "get_shape"], [9, 1, 1, "", "to_gpu"]], "lmcache.experimental.gpu_connector.VLLMNestedTupleGPUConnector": [[9, 1, 1, "", "from_gpu"], [9, 1, 1, "", "get_shape"], [9, 1, 1, "", "to_gpu"]], "lmcache.experimental.gpu_connector.VLLMPagedMemGPUConnector": [[9, 1, 1, "", "from_gpu"], [9, 1, 1, "", "get_shape"], [9, 1, 1, "", "to_gpu"]], "lmcache.experimental.gpu_connector.VLLMPagedMemGPUConnectorV2": [[9, 1, 1, "", "from_gpu"], [9, 1, 1, "", "get_shape"], [9, 1, 1, "", "to_gpu"]], "lmcache.experimental.memory_management": [[10, 0, 1, "", "BufferAllocator"], [10, 0, 1, "", "GPUMemoryAllocator"], [10, 0, 1, "", "MemoryAllocatorInterface"], [11, 0, 1, "", "MemoryFormat"], [11, 0, 1, "", "MemoryObj"], [10, 0, 1, "", "TensorMemoryAllocator"]], "lmcache.experimental.memory_management.BufferAllocator": [[10, 1, 1, "", "allocate"], [10, 1, 1, "", "free"], [10, 1, 1, "", "get_ref_count"], [10, 1, 1, "", "memcheck"], [10, 1, 1, "", "ref_count_down"], [10, 1, 1, "", "ref_count_up"]], "lmcache.experimental.memory_management.GPUMemoryAllocator": [[10, 1, 1, "", "allocate"], [10, 1, 1, "", "free"], [10, 1, 1, "", "get_ref_count"], [10, 1, 1, "", "memcheck"], [10, 1, 1, "", "ref_count_down"], [10, 1, 1, "", "ref_count_up"]], "lmcache.experimental.memory_management.MemoryAllocatorInterface": [[10, 1, 1, "", "allocate"], [10, 1, 1, "", "free"], [10, 1, 1, "", "get_ref_count"], [10, 1, 1, "", "ref_count_down"], [10, 1, 1, "", "ref_count_up"]], "lmcache.experimental.memory_management.MemoryFormat": [[11, 2, 1, "", "BINARY"], [11, 2, 1, "", "BINARY_BUFFER"], [11, 2, 1, "", "KV_BLOB"], [11, 2, 1, "", "UNDEFINED"], [11, 1, 1, "", "token_dim"]], "lmcache.experimental.memory_management.MemoryObj": [[11, 3, 1, "", "byte_array"], [11, 1, 1, "", "get_dtype"], [11, 1, 1, "", "get_memory_format"], [11, 1, 1, "", "get_physical_size"], [11, 1, 1, "", "get_shape"], [11, 1, 1, "", "get_size"], [11, 1, 1, "", "invalidate"], [11, 1, 1, "", "is_valid"], [11, 3, 1, "", "metadata"], [11, 3, 1, "", "tensor"]], "lmcache.experimental.memory_management.TensorMemoryAllocator": [[10, 2, 1, "", "ALIGN_BYTES"], [10, 1, 1, "", "allocate"], [10, 1, 1, "", "free"], [10, 1, 1, "", "get_ref_count"], [10, 1, 1, "", "memcheck"], [10, 1, 1, "", "ref_count_down"], [10, 1, 1, "", "ref_count_up"]], "lmcache.experimental.storage_backend.abstract_backend": [[7, 0, 1, "", "StorageBackendInterface"]], "lmcache.experimental.storage_backend.abstract_backend.StorageBackendInterface": [[7, 1, 1, "", "close"], [7, 1, 1, "", "contains"], [7, 1, 1, "", "exists_in_put_tasks"], [7, 1, 1, "", "get_blocking"], [7, 1, 1, "", "submit_prefetch_task"], [7, 1, 1, "", "submit_put_task"]], "lmcache.experimental.storage_backend.evictor.base_evictor": [[1, 0, 1, "", "BaseEvictor"], [1, 0, 1, "", "PutStatus"]], "lmcache.experimental.storage_backend.evictor.base_evictor.BaseEvictor": [[1, 1, 1, "", "update_on_hit"], [1, 1, 1, "", "update_on_put"]], "lmcache.experimental.storage_backend.evictor.base_evictor.PutStatus": [[1, 2, 1, "", "ILLEGAL"], [1, 2, 1, "", "LEGAL"]], "lmcache.experimental.storage_backend.evictor.lru_evictor": [[1, 0, 1, "", "LRUEvictor"]], "lmcache.experimental.storage_backend.evictor.lru_evictor.LRUEvictor": [[1, 1, 1, "", "update_on_hit"], [1, 1, 1, "", "update_on_put"]], "lmcache.experimental.storage_backend.storage_manager": [[7, 0, 1, "", "StorageManager"]], "lmcache.experimental.storage_backend.storage_manager.StorageManager": [[7, 1, 1, "", "allocate"], [7, 1, 1, "", "close"], [7, 1, 1, "", "contains"], [7, 1, 1, "", "get"], [7, 1, 1, "", "prefetch"], [7, 1, 1, "", "prefetch_callback"], [7, 1, 1, "", "put"]], "lmcache.integration.vllm.vllm_adapter": [[2, 0, 1, "", "RetrieveStatus"], [2, 0, 1, "", "StoreStatus"], [2, 4, 1, "", "broadcast_seq_group_list"], [2, 4, 1, "", "build_partial_prefill_input"], [2, 4, 1, "", "lmcache_retrieve_kv"], [2, 4, 1, "", "lmcache_should_retrieve"], [2, 4, 1, "", "lmcache_should_store"], [2, 4, 1, "", "lmcache_store_kv"]], "lmcache.integration.vllm.vllm_adapter.RetrieveStatus": [[2, 2, 1, "", "CHUNK_PREFILL"], [2, 2, 1, "", "NONE"], [2, 2, 1, "", "PREFILL"]], "lmcache.integration.vllm.vllm_adapter.StoreStatus": [[2, 2, 1, "", "CHUNK_PREFILL"], [2, 2, 1, "", "DECODE"], [2, 2, 1, "", "NONE"], [2, 2, 1, "", "PREFILL"], [2, 2, 1, "", "SUFFIX_PREFILL"]]}, "objnames": {"0": ["py", "class", "Python class"], "1": ["py", "method", "Python method"], "2": ["py", "attribute", "Python attribute"], "3": ["py", "property", "Python property"], "4": ["py", "function", "Python function"]}, "objtypes": {"0": "py:class", "1": "py:method", "2": "py:attribute", "3": "py:property", "4": "py:function"}, "terms": {"": [9, 13, 15, 16, 25, 26, 28], "0": [0, 1, 4, 6, 11, 13, 15, 16, 18, 19, 20, 22, 23, 24, 25], "1": [0, 1, 2, 9, 11, 15, 16, 17, 18, 19, 20, 22, 23, 24, 25, 28], "10": [1, 17, 18, 19, 20, 22, 24, 26], "100": [25, 28], "1000": [19, 20], "1024": [16, 18], "10x": 27, "12": 24, "127": 23, "15": [], "150": 23, "16384": 17, "16k": [16, 25], "1b": 23, "2": [1, 2, 11, 15, 16, 18, 19, 20, 22, 23, 24, 26, 28], "200": [], "256": [4, 6, 13, 15, 16, 18, 19, 20, 23], "26379": [4, 6], "26380": [], "26381": [], "3": [2, 11, 15, 17, 22, 23, 24, 25, 27, 28], "30": 15, "32768": [16, 18], "32k": 28, "3f": 15, "3gb": 26, "4": [2, 24, 26, 28], "400": [], "4096": [22, 25], "40gb": [19, 20], "5": [2, 4, 6, 19, 20, 23, 28], "512": 10, "5k": 18, "6": 24, "6379": 22, "65432": [4, 6, 13, 16], "6x": 26, "7": [15, 24], "7b": [15, 16, 18, 19, 20, 23, 25, 26, 28], "8": [16, 18, 19, 20, 22, 25], "8000": [6, 16, 17, 19, 20, 22, 23, 25], "8001": [6, 16, 22], "8100": [20, 22], "8200": 22, "8201": 22, "8501": 26, "8b": [17, 22, 25, 28], "95": [15, 16, 18, 19, 20], "9b": 28, "A": [0, 2, 7, 10, 24, 26], "And": [2, 8], "As": [24, 26], "By": 27, "For": [6, 10, 17, 23, 24, 25, 26, 28], "If": [0, 7, 8, 9, 26], "In": [6, 9, 13, 26], "It": [0, 8, 9, 27], "NOT": 0, "On": 8, "The": [0, 2, 4, 6, 7, 8, 9, 10, 13, 16, 17, 18, 19, 20, 22, 23, 24, 26], "Then": 16, "There": 4, "These": [], "To": [4, 6, 17, 23, 25, 28], "Will": [0, 9], "__init__": [], "__main__": 20, "__name__": 20, "_blob_to_tuple_kv": [], "_chunk_kv": [], "_chunk_token": [], "_get_init_hash": [], "_hash": [], "_log_task_complet": [], "_make_chunk": [], "_make_chunks_skip_exist": [], "_make_kei": [], "_num_tokens_in_kv": [], "_prefix_hash": [], "_slice_kv_at": [], "_tuple_kv_to_blob": [], "a40": [19, 20, 26], "a6000": 26, "about": [15, 19, 20], "abov": [15, 16, 18, 23, 26], "abstract": [0, 1, 7, 9, 10, 11], "abstract_backend": [], "abstracteventloop": [], "accept": [23, 28], "access": 26, "achiev": 27, "across": [16, 26], "activ": [17, 24], "actual": [], "ad": 6, "adapt": [], "add": [24, 25, 28], "addit": [6, 8, 20], "address": [], "advanc": 15, "after": [0, 2, 7, 26, 28], "ai": [23, 24], "align": [], "align_byt": 10, "all": [7, 8, 17, 21, 23, 27], "all_reduce_funct": 0, "alloc": [7, 10], "allow": 1, "almost": 26, "along": [], "alreadi": [], "also": [6, 8, 15, 17, 18, 24], "although": 24, "alwai": 8, "an": [4, 6, 7, 8, 16, 17, 18, 19, 20, 22, 23, 25], "ani": [20, 27, 28], "anoth": [6, 26], "answer": [15, 18, 26], "api": 25, "app": 26, "append": [15, 16, 18], "append_output": [16, 18], "appendix": [], "applic": [22, 23], "apply_chat_templ": [16, 18], "ar": [4, 6, 8, 13, 16, 17, 18, 19, 20, 23, 26, 28], "arg": [4, 6, 20], "argument": 8, "around": [18, 26], "arrai": 11, "arriv": [], "assert": [16, 18], "assertionerror": 9, "assist": [16, 18, 23], "associ": [], "assum": [], "async": [0, 7], "async_llm_engin": [], "async_load_bytes_from_disk": [], "async_save_bytes_to_disk": [], "asynchron": 8, "asyncio": [], "attent": [], "automat": 22, "automodelforcausallm": 26, "autotoken": [16, 18, 26], "avail": [0, 23, 24, 26], "avoid": [8, 24], "b": [], "backend": [4, 6, 8, 14, 17, 19, 20, 24, 26, 27], "backend_typ": 13, "background": 0, "bandwidth": 26, "base": [0, 1, 2, 9, 10, 11, 26, 28], "base_connector": [], "base_evictor": [], "base_pool": [], "baseevictor": 1, "basepool": [], "bash": [4, 6, 17, 26], "bashrc": 24, "batch": 0, "batched_get": [], "batched_put": [], "batched_remov": [], "becaus": 24, "been": 7, "befor": [13, 25], "being": [7, 8], "below": [17, 24], "better": 17, "between": [20, 26], "big": [], "bin": [23, 24], "binari": [11, 24], "binary_buff": [10, 11], "bind": 13, "blcock": 7, "blend": [4, 6, 14, 21, 27], "blend_adapt": 15, "blend_min_token": 4, "blend_recompute_ratio": 4, "blendexecutor": 0, "blendoutput": 0, "blendretriev": 0, "blendretrieverresult": 0, "blendretrievertask": 0, "blob": [], "block": [0, 7], "block_siz": 9, "bool": [2, 4, 6, 7, 9], "boolean": [2, 8], "boost": 18, "bootstrap": 17, "both": [25, 26], "boundari": [1, 2, 11], "branch": 24, "break": [], "bridg": [], "broadcast": 2, "broadcast_seq_group_list": 2, "browser": 26, "buffer": [8, 9, 20], "buffer_memory_obj": [], "buffer_s": [], "buffer_sweep": [], "bufferalloc": 10, "build": [], "build_partial_prefill_input": 2, "byte": [11, 20], "byte_arrai": 11, "byte_tensor": [], "bytearrai": [], "bytes_tensor": [], "bytesbuffermemoryobj": 10, "bytestream": [], "bytestream_length": [], "c": [24, 26], "cach": [0, 1, 2, 4, 6, 7, 8, 9, 13, 14, 15, 16, 20, 21, 23, 26, 27], "cache_config": 2, "cache_dict": 1, "cache_dir": 26, "cache_engin": [19, 20], "cache_s": 1, "cacheblend": 0, "cacheblendimpl": 0, "cacheconfig": 2, "cacheengin": [], "cacheengineendsign": [], "cacheenginekei": [1, 7], "cachegen": [4, 6, 13, 16, 17, 28], "cachegen_bas": [], "cachegen_binari": [], "cachegen_decod": [], "cachegen_encod": [], "cachegenconfig": [], "cachegendeseri": [], "cachegenencoderimpl": [], "cachegenencoderoutput": [], "cachegengpubytestream": [], "cachegengpuencoderoutput": [], "cachegenseri": [], "call": [10, 13, 17], "callabl": 0, "can": [4, 6, 13, 15, 16, 17, 18, 23, 24, 25, 26, 27, 28], "can_be_coalesc": [], "cancel": [], "cancellederror": [], "card": 28, "case": [9, 26, 27], "caus": [24, 26], "cd": [17, 24, 26], "cdf": [], "cdf_int": [], "central": [], "chang": [0, 2, 16], "chat": [23, 28], "check": [2, 7, 8, 11, 17, 21, 24], "check_connector_typ": [], "children": [], "chmod": [4, 6, 23], "chunk": [4, 6, 8, 15, 19, 20, 23], "chunk1": 15, "chunk2": 15, "chunk_hash": [], "chunk_idx": [], "chunk_kv": [], "chunk_prefil": 2, "chunk_siz": [4, 6, 13, 15, 16, 18, 23], "chunkedtokendatabas": [], "class": [0, 1, 2, 7, 8, 9, 10, 11], "classmethod": [], "clean": [19, 20], "cleanup": [], "clear": [16, 18], "cli": [], "client": [], "client_exist": [], "client_get": [], "client_list": [], "client_meta": [], "client_put": [], "client_socket": [], "clientmetamessag": [], "clone": [17, 24, 26], "close": [7, 8], "close_lmcache_engin": [15, 16, 18], "cluster": [], "code": [2, 15, 16, 18, 23, 24, 26], "collect": [], "collect_byt": [], "com": [17, 19, 20, 24, 26], "combin": 27, "combine_input_prompt_chunk": 15, "come": 1, "comma": [], "command": [15, 16, 17, 18, 19, 20, 23, 24, 25], "compar": [17, 26], "compat": [19, 25], "compil": 24, "complet": [22, 23], "compon": 25, "compos": 26, "compress": [11, 20, 28], "comput": 15, "compute_cdf": [], "concat_max": [], "concaten": [], "concis": 16, "conda": [17, 24], "condit": 28, "config": [7, 8, 13, 16, 19, 20, 22, 23, 25], "configur": [13, 19, 20], "conflict": [8, 26], "connect": [], "connector": [8, 27], "connector_typ": [], "connectortyp": [], "consist": 1, "constant": [], "constitu": [], "construct": 9, "consum": 9, "contain": [7, 16, 17, 18, 24], "content": [16, 18, 22, 23], "context": [15, 17, 18, 26], "context_fil": [15, 16, 18], "context_length": [16, 18], "context_messag": [16, 18], "context_text": [16, 18], "continu": [], "control": [], "convers": 18, "convert": 8, "copi": [9, 16, 18], "copyed_context_messag": [16, 18], "core": [], "correctli": 24, "correspond": [0, 8, 9], "count": 10, "cpu": [0, 4, 8, 10, 13, 15, 16, 17, 18, 20, 21, 27], "cpu_offload_lmcach": 19, "creat": [0, 13, 16, 17, 18, 24], "create_index": [], "createconnector": [], "createserd": [], "createstoragebackend": [], "credenti": 28, "csv": 17, "ctrl": 26, "cuda": [4, 6, 7, 9, 10, 13, 24], "cuda_hom": 24, "cuda_vers": 24, "cuda_visible_devic": [13, 15, 16, 18, 20, 22], "curl": [22, 23], "current": [0, 1, 2, 17], "custom": [], "cycl": 27, "d": [22, 23, 26], "data": 9, "data_chunk": [], "debug": 10, "debug_print_devic": [], "decod": [2, 4, 6, 14, 20, 27], "decode_chunk": [], "decode_function_gpu": [], "decode_process": 20, "decompress": 28, "decreas": 10, "deepcopi": [16, 18], "def": [16, 18, 20], "default": [4, 6, 13, 24, 26], "defin": [9, 17], "definit": [], "delai": 27, "delet": [], "delimit": [], "demo4": 26, "demonstr": [17, 19, 20, 22], "depend": 24, "deploy": 23, "descript": 16, "deseri": [13, 20], "deserialize_work": [], "deserializerdebugwrapp": [], "destroi": [19, 20], "detail": [17, 18], "determin": [], "dev": 24, "dev160": 24, "dev_nam": [], "devic": [0, 2, 4, 10], "dict": 1, "dictionari": [], "differ": [13, 17, 26], "dimens": [0, 9], "directli": [24, 25, 28], "directori": [17, 24], "disabl": 20, "disaggreg": [21, 27], "disaggregated_prefill_lmcach": 20, "disk": [6, 13, 26], "diskcachemetadata": [], "distribut": [6, 22], "distributed_url": 6, "distributedserverinterfac": [], "do": [4, 6, 7, 28], "do_dequant": [], "do_sample_list": 2, "docker": [22, 27], "document": [15, 16, 26, 28], "doe": [7, 9, 15, 26], "doesn": 24, "done": [17, 19], "down": 26, "download": 26, "driver": 2, "driver_work": 2, "drop_spt_and_get_indic": [], "dst_devic": 7, "dtype": [7, 10, 11], "dummyevictor": [], "dump": [16, 18], "dure": 0, "dynam": [], "e": [4, 6, 8, 15, 16, 17, 18, 24, 27], "each": [0, 2, 26, 27], "echo": 26, "effici": [], "either": [], "element": [], "empti": [], "enabl": [4, 6, 7, 15, 19, 23, 26], "enable_blend": [4, 15], "enable_chunked_prefil": [16, 18, 19], "enable_p2p": 6, "encod": [], "encode_funct": [], "encode_input": [], "encode_ntoken": [], "end": 9, "end_lay": [], "enforce_eag": 20, "engin": [22, 26, 27], "engine_nam": [19, 20], "ensur": [], "enter": 28, "entir": 2, "entri": [], "entrypoint": 23, "enum": [1, 2, 11], "env": [23, 24, 26], "env_redis_service_nam": [], "env_redis_timeout": [], "environ": [3, 5, 17, 19, 20, 24, 26], "error_handl": [], "etc": [], "evalu": [], "event": 20, "everyth": 10, "evict": [1, 7], "evict_kei": [], "evictor": [7, 27], "exampl": [15, 16, 17, 19, 20, 22, 24, 25], "example1": 22, "example2": 22, "except": 21, "execut": 2, "execute_model": 2, "executor": 0, "exist": [7, 8], "exists_in_put_task": 7, "exit": [15, 16, 18], "expect": 9, "experiment": [6, 19, 20, 24], "explain": 22, "explicit": 10, "explicitli": 10, "export": [4, 6, 24], "extend": 18, "external_url": 26, "extra": 24, "f": [15, 16, 17, 18, 19, 20], "fail": 10, "fals": [4, 6, 8, 9, 10, 13, 16, 18, 19, 20, 23], "fast": [4, 6, 13], "fast_serd": [], "fastdeseri": [], "faster": 26, "fastseri": [], "featur": [6, 19, 20, 21, 24], "fetch": 8, "fffffttttttt": 8, "ffmpeg": [16, 18, 26], "field": [], "figur": 26, "file": [3, 5, 13, 15, 16, 17, 18, 19, 20, 23, 24], "file_path": [], "fin": 15, "final": 17, "fine": 10, "finish": 20, "first": [15, 16, 17, 19, 27], "first_output": [16, 18], "first_prompt": 19, "first_scheduled_tim": 15, "first_token_tim": 15, "fix": [], "flat": [], "float": [0, 1, 4], "float32": [], "fmt": [9, 10], "folder": 17, "follow": [4, 6, 13, 15, 16, 17, 18, 19, 20, 22, 23, 24, 25, 26, 27, 28], "fork": 27, "form": [], "format": [4, 6, 9, 10, 11, 16, 28], "forward": [], "found": [15, 18], "four": [], "fp_k": [], "fp_v": [], "free": [8, 10], "freeblock": [], "freed": [], "fresh": 0, "fresh_k": 0, "fresh_q": 0, "fresh_v": 0, "from": [0, 2, 7, 8, 9, 11, 15, 16, 17, 18, 19, 20, 22, 25, 26, 28], "from_byt": [], "from_bytes_norm": [], "from_cli": [19, 20], "from_default": [], "from_env": [], "from_fil": [], "from_gpu": 9, "from_legaci": [], "from_model_nam": [], "from_pretrain": [16, 18, 25, 26, 28], "from_str": [], "frontend": 26, "full": [0, 1, 9], "full_prompt": 0, "full_tokens_list": 2, "func": [], "function": [0, 2, 7, 9, 10, 17], "futur": [6, 7], "g": [4, 6, 8, 15, 16, 17, 18], "g28943d36": 24, "gb": [4, 6, 17, 19, 20], "gen_prompt": [16, 18], "gener": [15, 16, 18, 19, 20, 25, 26, 28], "generated_prompt": [16, 18], "generated_text": [15, 16, 18, 19, 20], "get": [0, 2, 7, 9, 10, 11, 23], "get_block": 7, "get_context_length": [16, 18], "get_dtyp": 11, "get_memory_format": 11, "get_or_cr": [], "get_output_buff": [], "get_physical_s": 11, "get_ref_count": 10, "get_shap": [9, 11], "get_siz": 11, "git": [17, 24, 26], "github": [17, 19, 20, 24, 26], "give": 16, "given": [1, 2, 9, 10, 11, 17], "glm": 28, "got": [16, 18], "gpu": [8, 13, 16, 17, 19, 20, 22, 23, 25, 26, 27], "gpu_connector": 8, "gpu_memory_util": [15, 16, 18, 19, 20], "gpuconnector": 8, "gpuconnectorinterfac": [8, 9], "gpumemoryalloc": 10, "gputensor": 9, "grace": [15, 16, 18], "gracefulli": [], "group": [], "guid": [17, 27], "h": [22, 23], "ha": [0, 6, 7, 19, 20, 21, 25], "handl": 7, "handle_cli": [], "handle_get": [], "happen": 0, "hash": [], "hasn": [], "have": [4, 6, 8, 9, 17, 22, 23], "head_siz": 9, "hello": [19, 20, 25, 28], "help": [17, 18, 23], "helper": 2, "here": [7, 15, 16, 17, 18, 23, 28], "hf": 26, "hf_token": [23, 26], "hidden_dim": [0, 11], "hidden_dim_s": 9, "higher": [17, 24], "highli": 24, "hit": [], "hold": 10, "host": [4, 6, 10, 13, 17, 23], "host2": [], "hostmemoryalloc": [], "hosts_and_port": [], "hot": [7, 8], "how": [2, 8, 14, 17, 19, 20, 26], "http": [6, 19, 20, 22, 23, 24, 26], "hub": 23, "huggingfac": [23, 26, 28], "huggingface_hub": 28, "hybrid": [], "hybrid_backend": [], "i": [0, 1, 2, 4, 6, 7, 8, 9, 10, 11, 13, 16, 17, 18, 19, 20, 22, 23, 24, 25, 26, 27, 28], "id": 0, "idea": [], "illeg": 1, "imag": 26, "image_nam": 23, "implement": [10, 23], "import": [15, 16, 18, 19, 20, 25, 26, 28], "improv": 17, "includ": [8, 13, 18, 27, 28], "increas": 10, "index": [9, 24], "indic": [0, 1, 2, 8, 20], "indices_to_mask": [], "infer": [25, 26, 28], "infinistoreconnector": [], "info": [], "inform": [8, 16, 17, 18, 26, 28], "init_lmcache_engin": [], "init_logg": [], "init_max_chunk_num": [], "initi": [], "inject": 1, "input": [0, 1, 2, 8], "input_group": [], "input_token": 0, "input_tokens_list": [], "insert": 28, "insert_kei": [], "instal": [17, 19, 20, 26, 27], "instanc": [13, 16, 18, 20, 26, 27], "instance_id": [], "instead": 10, "instruct": [15, 16, 17, 18, 19, 20, 22, 23, 25, 26, 28], "int": [0, 1, 2, 4, 6, 8, 9, 10, 11], "int16": [], "int32": [], "int8": [], "integ": [4, 6], "integr": [19, 20, 27], "interact": [], "interfac": [0, 1, 11, 25, 27], "intermediatetensor": 2, "intern": [], "invalid": 11, "invok": [], "io": 26, "ip": 26, "is_driver_work": 2, "is_kei": [], "is_prefill_list": 2, "is_valid": 11, "issu": [24, 26], "issue_get": [], "iter": [], "its": [], "join": [16, 18, 20], "json": [16, 18, 22, 23], "json_dict": [16, 18], "jsonl": [16, 18], "just": 25, "k": [0, 9], "kei": [1, 7], "kernel": 9, "key_bin": [], "keys_and_chunk": [], "kivideseri": [], "kiviseri": [], "know": 26, "kspec": [], "ktc": [19, 20], "kv": [1, 2, 4, 6, 7, 8, 9, 13, 14, 16, 17, 18, 20, 21, 23, 25, 26, 27], "kv_blend": 15, "kv_blob": [9, 10, 11], "kv_both": [19, 22, 23, 25], "kv_cach": 2, "kv_chunk": [], "kv_chunk_byt": [], "kv_connector": [19, 20, 22, 23, 25], "kv_consum": 20, "kv_obj": 1, "kv_parallel_s": 20, "kv_produc": 20, "kv_rank": 20, "kv_role": [19, 20, 22, 23, 25], "kv_tensor": [], "kv_tensors_mask": [], "kv_tensors_raw": [], "kv_transfer_config": [19, 20], "kvcach": [9, 27], "kvlayer": 9, "kvobj": [], "kvtransferconfig": [19, 20], "kwarg": [8, 9], "l": 17, "languag": 22, "latenc": 17, "later": 26, "latest": [21, 24], "launch": [0, 7, 8, 13, 16, 18, 20], "layer": 0, "layer_id": 0, "layers_in_kei": [], "ld_library_path": 24, "learn": [19, 20], "least": 22, "left": 26, "legaci": [], "legal": 1, "len": [16, 18, 22, 25], "length": [0, 8, 9, 17], "less": [19, 20], "let": [26, 27], "lib64": 24, "librari": 24, "lifecycl": [], "like": [8, 24], "limit": [19, 20], "line": [4, 6, 16, 17, 26], "link": [23, 24, 27], "linux": 24, "list": [0, 1, 2, 4, 6, 7, 8, 10, 16, 17, 18], "list_kei": [], "llama": [17, 22, 23, 25, 28], "llm": [15, 16, 18, 19, 20, 25, 27, 28], "lm": [16, 20], "lm_cache_blend_min_token": [], "lm_cache_blend_recompute_ratio": [], "lm_cache_chunk_s": [], "lm_cache_distributed_url": [], "lm_cache_enable_blend": [], "lm_cache_enable_p2p": [], "lm_cache_local_devic": [], "lm_cache_lookup_url": [], "lm_cache_max_local_cache_s": [], "lm_cache_pipelined_backend": [], "lm_cache_remote_serd": [], "lm_cache_remote_url": [], "lm_cache_save_decode_cach": [], "lm_cache_use_experiment": [], "lm_connector": [], "lmc_num_computed_tokens_list": 2, "lmcach": [2, 13, 15, 16, 17, 18, 19, 20, 23, 24, 26, 28], "lmcache_blend_min_token": 4, "lmcache_blend_recompute_ratio": 4, "lmcache_chunk_s": [4, 6, 19, 20], "lmcache_config": [4, 6, 25], "lmcache_config_fil": [4, 6, 13, 15, 16, 18, 22, 25], "lmcache_distributed_url": 6, "lmcache_enable_blend": 4, "lmcache_enable_p2p": 6, "lmcache_get_config": [], "lmcache_local_cpu": [19, 20], "lmcache_local_devic": [4, 6], "lmcache_local_disk": 6, "lmcache_lookup_url": 6, "lmcache_max_local_cache_s": [4, 6], "lmcache_max_local_cpu_s": [19, 20], "lmcache_max_local_disk_s": 6, "lmcache_pipelined_backend": [4, 6], "lmcache_remote_serd": [4, 6, 20], "lmcache_remote_url": [4, 6, 20], "lmcache_retrieve_kv": 2, "lmcache_save_decode_cach": [4, 6], "lmcache_serv": [13, 16], "lmcache_server_process": 20, "lmcache_should_retriev": 2, "lmcache_should_stor": 2, "lmcache_store_kv": 2, "lmcache_use_experiment": [6, 19, 20, 22, 23, 24, 25], "lmcache_vllm": [4, 15, 16, 18, 23, 24, 25, 28], "lmcacheconnector": [19, 20, 22, 23, 25], "lmcacheengin": 8, "lmcacheenginebuild": [19, 20], "lmcacheengineconfig": [7, 8], "lmcacheenginemetadata": [7, 8], "lmcachemempoolmetadata": [], "lmcacheserv": [], "lmcbackendinterfac": [], "lmchybridbackend": [], "lmclocalbackend": [], "lmclocaldiskbackend": [], "lmcpipelinedremotebackend": [], "lmcremotebackend": [], "lmcserverconnector": [], "lmsbackendinterfac": [], "lmslocalbackend": [], "lmslocaldiskbackend": [], "lmsmemoryobj": [], "lmsy": [16, 25, 28], "load": [8, 9, 24, 25, 28], "load_bytes_from_disk": [], "load_disk": [], "local": [4, 6, 8, 13, 17, 19, 20, 23, 24, 26], "local_backend": [], "local_cpu": 23, "local_devic": [4, 13, 15, 16, 18], "local_disk": [4, 6, 13], "local_disk_backend": [], "local_indic": 0, "local_pool": [], "local_url": 26, "localbackendendsign": [], "localcpubufferpool": [], "localcpupool": [], "localdiskbackend": [7, 8], "localgpupool": [], "localhost": [4, 6, 13, 16, 20, 22, 26], "localpool": [], "locat": 0, "log": 17, "logger": [], "logic": [], "login": [26, 28], "long": [0, 19, 26], "longchat": [16, 25, 28], "longer": 23, "lookup": [6, 8, 22], "lookup_serv": 7, "lookup_url": 6, "lookupserverinterfac": 7, "loop": [], "lower": 17, "lp": [], "lru": [1, 7], "lru_evictor": [], "lruevictor": 1, "m": [17, 20], "machin": [23, 26], "mai": [0, 17, 28], "main": [8, 17], "mainli": 15, "maintain": 23, "make": 23, "make_key_bin": [], "make_value_bin": [], "manag": [7, 8, 24], "mani": [8, 27], "manner": [8, 20], "manual": 26, "map": 9, "mask": [0, 8], "mask_to_indic": [], "match": [0, 8, 9, 17], "matter": [], "max": [22, 25], "max1": [], "max_cache_s": 1, "max_length": [25, 28], "max_local_cache_s": 4, "max_local_cpu_s": 23, "max_local_disk_s": 6, "max_model_len": [16, 18, 19, 20], "max_tensors_kei": [], "max_tensors_valu": [], "max_token": [15, 16, 18, 19, 20, 22, 23], "maximum": [4, 6], "maxtensor": [], "mayb": 0, "me": [16, 19], "mean": [8, 9], "mechan": [], "mem": [], "mem_pool": [], "memcheck": 10, "memori": [2, 7, 8, 9, 16, 17, 19, 20, 22, 25, 27], "memory_alloc": 8, "memory_manag": [], "memory_obj": [7, 9, 10], "memoryallocatorinterfac": [7, 8, 10], "memoryformat": [9, 10, 11], "memoryobj": [7, 8, 9, 10, 11], "memoryobjmetadata": 11, "mess": 24, "messag": 23, "met": [], "meta": [17, 22, 23, 25, 28], "metada": 11, "metadata": [7, 8, 9, 11], "method": [], "metric": 15, "might": [26, 28], "min": 27, "minimum": 4, "minut": 26, "miss": [], "mistral": [15, 16, 18, 19, 20, 23, 26, 28], "mistralai": [15, 16, 18, 19, 20, 23, 26, 28], "mixedmemoryalloc": [], "model": [2, 15, 16, 18, 19, 20, 22, 23, 25, 26], "model_card": 28, "model_config": 2, "model_execut": 2, "model_input": 2, "model_nam": [16, 18, 26], "model_runn": [], "modelconfig": 2, "modelinputforgpuwithsamplingmetadata": 2, "modelrunn": [], "modifi": 0, "modul": [0, 1, 2, 11, 16], "modulefind": [], "monitor": 17, "more": [9, 15, 17, 19, 20, 21, 26, 28], "movement": [], "mpool_metadata": [], "multi": [18, 27], "multipl": [0, 8, 13, 16, 26], "multiprocess": [15, 20], "must": [], "my": [19, 25, 28], "n": [16, 17, 18, 24], "naiv": 20, "naivedeseri": [], "naivedistributedserv": [], "naiveseri": [], "name": [1, 2, 4, 6, 11, 19, 22, 23, 25, 28], "nccl": 24, "nchannel": [], "ndim": [], "necessari": [2, 24], "necessarili": 27, "need": [6, 8, 15, 16, 17, 18, 19, 20], "nest": 9, "network": 23, "network_url": 26, "network_work": [], "never": 9, "new": [0, 1, 24, 26], "new_request": 0, "newer": 6, "newli": 15, "nfirst": [16, 18], "nightli": 24, "nlayer": [], "nn": 2, "node": 20, "non": [2, 7], "none": [0, 1, 2, 7, 8, 10, 11, 16, 18], "note": [0, 10, 19, 20, 22, 24, 26], "noth": 0, "now": [7, 8, 15, 16, 18, 19, 24, 26, 28], "nsecond": [16, 18], "ntoken": [], "num_block": 9, "num_computed_tokens_list": 2, "num_head": 9, "num_kv_head": [], "num_lay": [9, 11], "num_skip_chunk": [], "num_skip_prefix_chunk": [], "num_token": [0, 9, 11], "number": [0, 4, 8, 9, 16], "nvcc": 24, "nvidia": [23, 26], "o": [16, 17, 18, 19, 20, 24], "obj": 7, "object": [0, 7, 9, 16, 18, 27], "occur": [], "offer": 23, "offici": 23, "offlin": [16, 25, 28], "offline_infer": [13, 16, 18], "offline_inference_output": [16, 18], "offline_precomput": 15, "offlinekvprecomput": 15, "offload": [21, 27], "often": 28, "onc": [13, 17, 26, 27], "one": [16, 26], "ones": 6, "ongo": 7, "onli": [0, 6, 27, 28], "onlin": 25, "open": [15, 16, 18, 26], "openai": [23, 25, 26], "oper": [], "optim": 28, "option": [0, 4, 6, 7, 8, 10, 13], "ordereddict": 1, "origin": [0, 2], "original_posit": 0, "other": [13, 16, 17, 18, 26, 28], "otherwis": [2, 10], "our": 17, "out": 21, "output": [0, 15, 16, 17, 18, 19, 20], "output_buff": [], "output_fil": [16, 18], "output_file_nam": [16, 18], "output_length": [], "over": [], "overlap": 9, "overrid": [], "overview": 27, "overwrit": [], "own": 17, "p": 22, "p2p": [21, 27], "packag": 24, "packlength": [], "page": [2, 8], "pair": [], "paper": [], "parallel": [], "parallel_config": 2, "parallelconfig": 2, "param": [0, 10, 16, 18], "paramet": [0, 2, 4, 6, 7, 8, 9, 10], "pardir": [16, 18], "pars": [], "parse_remote_url": [], "parsedremoteurl": [], "part": [], "partial": [], "pass": [0, 4, 6, 8, 16, 18], "path": [6, 13, 16, 18, 24], "path2": [], "pattern": 17, "pdf": 17, "peak": 26, "peer": 6, "per": [17, 19, 20], "perf_count": [16, 18], "perform": [], "phy_siz": [], "physic": 11, "pin": 10, "pinmemoryalloc": [], "pip": [19, 20, 26], "pipelin": [4, 6, 13, 16], "pipelined_backend": [4, 6, 13, 16], "pleas": [6, 13, 17, 18, 23, 24, 25, 26, 28], "plot": 17, "point": [], "pointer": [], "pool": [], "popen": 20, "port": [4, 6, 13, 16, 20, 22, 25], "port2": [], "portion": [], "posit": 0, "positional_encod": 0, "possibl": 4, "post": [22, 23], "post2": 24, "potenti": 26, "pre": [10, 15, 24], "preciou": 27, "precompute_kv": 15, "prefetch": [7, 8], "prefetch_callback": 7, "prefil": [2, 19, 21, 23, 27], "prefill_don": 20, "prefill_process": 20, "prefix": [8, 9, 19, 26, 27], "prefix_hash": [], "prepare_environ": 17, "prerequisit": 21, "prevent": 26, "primari": [], "print": [15, 16, 18, 19, 20], "prior": 17, "proce": [], "process": [8, 17, 20], "process_result": 17, "process_token": [], "produc": 9, "product": [], "profil": [], "program": [], "project": [], "prompt": [0, 16, 18, 20, 22, 28], "properti": 11, "protocol": [], "provid": [9, 17], "proxi": [], "proxymodul": [], "pull": 22, "purpos": 10, "put": [1, 2, 7, 8], "put_block": [], "put_nonblock": [], "put_work": [], "putstatu": 1, "py": [13, 15, 16, 17, 18, 19, 20], "python": [13, 15, 16, 17, 19, 20, 23, 24, 26, 28], "python3": [17, 18], "pytorch": [], "q": 0, "qa": 27, "qkv": 0, "qualnam": [1, 2, 11], "quant": [], "quantiz": [], "quantizationspec": [], "queri": [0, 15, 26], "query2": [], "query_param": [], "query_start_loc": 0, "question": 15, "quick": [16, 27], "quickstart": 27, "qwen": 28, "r": [15, 16, 18, 19, 20], "radix": [], "radixtokendatabas": [], "rag": 27, "rais": [8, 9], "rang": [7, 8], "ratio": 4, "raw": 20, "raw_byt": [], "raw_data": [], "read": [15, 16, 18], "reader": [], "real": [8, 15], "rebuild": 2, "rebuilt": 2, "receiv": [], "receive_al": [], "receive_all_cli": [], "receive_all_serv": [], "recenc": [], "recombine_byt": [], "recommend": 24, "recomput": 4, "recompute_ratio": 0, "reconstruct": [], "redi": [4, 6, 13, 22, 27], "redis_connector": [], "redis_service_nam": [], "redis_timeout": [], "redisconnector": [], "redislookupserv": [], "redissentinelconnector": [], "reduc": [19, 20, 27], "reduct": 27, "redund": [], "ref": 10, "ref_count": [], "ref_count_down": 10, "ref_count_up": 10, "refer": [6, 17, 24, 25, 26, 28], "reflect": 2, "relat": [19, 20], "releas": 6, "relev": 24, "reli": 8, "rememb": 13, "remot": [4, 6, 13, 20], "remote_backend": [], "remote_serd": [4, 6, 13, 16], "remote_url": [4, 6, 13, 16], "remotebackendendsign": [], "remotebytesconnector": [], "remoteconnector": [], "remoteconnectordebugwrapp": [], "remotetensorconnector": [], "remov": [], "replac": 26, "repositori": [17, 24], "req": 2, "request": [0, 2, 7, 8, 16, 17, 18, 19, 22], "requestoutput": [16, 18], "requir": [2, 28], "resid": 8, "resourc": 8, "respons": 7, "rest": [], "result": [0, 17], "ret_mask": [], "retriev": [0, 2, 4, 6, 8, 13, 16, 22], "retrieve_statu": 2, "retrieved_k": 0, "retrieved_v": 0, "retrievestatu": 2, "return": [0, 1, 2, 7, 8, 10, 16, 18, 20], "return_tupl": [], "reus": [17, 26, 27], "reusabl": [13, 27], "reverse_positional_encod": 0, "right": 26, "roi": 0, "role": [16, 18, 23], "root": 23, "root_directori": 17, "round": 27, "run": [4, 6, 15, 16, 18, 19, 20, 22, 24, 25, 28], "run_decod": 20, "run_lmcache_serv": 20, "run_prefil": 20, "runtim": [23, 26], "safe": [], "safe_serd": [], "safedeseri": [], "safeseri": [], "safetensor": [4, 6, 13], "same": [0, 6, 7, 8, 9, 17, 24, 25, 26], "sampl": [16, 18], "sampling_param": [16, 18, 19, 20], "sampling_params_gener": 15, "samplingparam": [15, 16, 18, 19, 20], "sata3": 26, "save": [4, 6, 14, 15, 16, 17, 19, 20, 23, 26, 27], "save_decod": 18, "save_decode_cach": [4, 6, 18], "save_disk": [], "save_pretrain": 26, "score": 18, "script": [17, 19, 20, 24, 26, 28], "seamless": [], "seamlessli": [], "search": [7, 8], "search_rang": [7, 8], "second": [15, 16, 17, 18, 19, 26], "second_output": [16, 18], "second_prompt": 19, "section": [23, 24, 25], "see": [9, 24, 26], "segmengt": 0, "segment": 23, "select": [0, 14, 27], "self": [], "send": 22, "send_al": [], "sent": [], "sentencepiec": 26, "sentinel": [4, 6], "separ": 24, "seq_len": 8, "sequenc": [0, 9], "serd": [4, 6], "serde_typ": [], "seri": 17, "serial": [13, 20], "serializerdebugwrapp": [], "serv": [4, 6, 8, 16, 22, 23, 24, 25, 26, 27], "server": [6, 13, 16, 20, 22, 25], "server_fail": [], "server_proc": 20, "server_storage_backend": [], "server_success": [], "servermetamessag": [], "servic": 26, "set": [4, 6, 9, 13, 19, 20, 28], "set_positional_encod": 0, "set_reverse_positional_encod": 0, "set_start_method": 15, "setup": [17, 23], "sh": [4, 6, 17, 23, 26], "sha256": [], "shape": [0, 7, 8, 9, 10, 11], "share": [6, 16, 19, 21, 26, 27], "shared_prompt": 19, "short": 0, "should": [0, 2, 4, 6, 7, 8, 9, 17, 18, 22], "shouldn": 10, "show": [17, 26], "shown": [13, 17, 26], "shut": 26, "signific": 22, "similar": 13, "simpli": 25, "singl": [0, 16, 26], "size": [4, 6, 7, 8, 9, 10, 11], "skip": 2, "skip_exist": [], "sleep": [15, 19, 20], "slot": 9, "slot_map": 9, "slot_mapping_flat": 2, "slow": 13, "snapshot": 17, "so": [26, 28], "socket": [], "some": [0, 6, 16, 17, 18, 22], "soon": 24, "sourc": [0, 1, 2, 7, 8, 9, 10, 11, 26], "spawn": 15, "special": 8, "specif": [8, 9, 17], "specifi": [7, 9, 13], "speed": 26, "speedup": 27, "split": 0, "spt": [], "sptblendretriev": [], "sptblendretrievertask": [], "ssd": 26, "stage": [], "standard": 26, "star": 27, "start": [0, 1, 2, 9, 11, 13, 16, 20, 22, 23, 25, 26], "start_idx": [], "start_indic": [], "start_lay": [], "start_pos_list": 2, "start_ui": 26, "state": [], "static": 24, "statu": 17, "stderr": 17, "step": 21, "storag": [1, 4, 6, 7, 8, 13, 17], "storage_backend": [], "storage_manag": [], "storagebackend": 8, "storagebackendinterfac": 7, "storagemanag": 7, "store": [2, 7, 8, 9, 13, 27], "store_statu": 2, "storestatu": 2, "stori": 19, "str": [1, 4, 6, 7, 8, 20], "stream": [], "streamlit": 26, "string": [], "structur": 17, "sub": 9, "submit_prefetch_task": 7, "submit_put_task": 7, "submodul": [], "subpackag": [], "subprocess": 20, "subset": [7, 8], "succ": [], "sudo": 26, "suffix": [], "suffix_prefil": 2, "suit": 17, "summar": [], "support": [0, 6, 8, 13, 16, 17, 19, 20, 27], "sure": 23, "sweep": [], "synchron": [], "sys_prompt": 15, "system": 23, "t": [10, 24], "t1": [16, 18], "t2": [16, 18], "t3": [16, 18], "t4": [16, 18], "tabl": 8, "tag": 23, "tail": 17, "take": [0, 8, 26], "taken": [], "talk": 15, "target": 20, "target_buff": [], "target_dim": [], "task": [0, 7], "tell": 19, "temperatur": [15, 16, 18, 19, 20], "tensor": [0, 2, 8, 9, 10, 11, 20], "tensor_parallel_s": 15, "tensormemoryalloc": 10, "tensormemoryobj": 10, "term": 28, "termin": [20, 26], "test": [], "test_lmcache_local_cpu": 17, "text": [13, 15, 16, 18, 19, 20, 27], "than": 26, "thei": [15, 26], "them": 8, "therefor": [], "thi": [0, 4, 6, 9, 10, 13, 15, 17, 18, 19, 20, 22, 23, 24, 26, 28], "thing": [], "third": [], "though": [], "thread": [], "thread_saf": [], "three": [], "through": [], "throughout": [], "throughput": 17, "thu": 27, "thudm": 28, "time": [15, 16, 17, 18, 19, 20, 27], "time_taken": [16, 18], "timeout": 20, "tmp": 17, "to_byt": [], "to_gpu": 9, "to_original_config": [], "to_str": [], "token": [0, 4, 8, 9, 15, 16, 17, 18, 19, 20, 26, 27, 28], "token_chunk": [], "token_databas": 8, "token_dim": [0, 9, 11], "token_seg": [], "tokendatabas": 8, "top": 28, "top_p": [15, 16, 18, 19, 20], "torch": [0, 2, 4, 6, 8, 10, 13, 15, 24], "torch_quant": [], "torch_quant_vector": [], "torch_serd": [], "torchdeseri": [], "torchseri": [], "total": [], "tp": 17, "transfer": [20, 22, 23, 25], "transform": [16, 18, 26], "transmiss": [], "transmit": [], "tree": 23, "tri": 24, "trigger": 26, "true": [6, 7, 8, 10, 13, 15, 18, 19, 20, 22, 23, 24, 25], "ttft": [15, 17, 27], "tupl": [0, 1, 2, 9, 10], "turn": [6, 18], "two": [4, 6, 16, 19, 22, 26], "txt": [15, 16, 18], "type": [0, 1, 2, 10, 11, 17, 22, 23, 26], "typic": 26, "uint8": [], "undefin": [0, 10, 11], "underli": 9, "unit": [], "until": 9, "unus": 26, "up": [6, 19, 20, 24, 28], "updat": [0, 1, 7], "update_on_get": [], "update_on_hit": 1, "update_on_put": 1, "upon": [], "uppercas": [], "url": [4, 6, 20, 24, 26], "us": [1, 3, 5, 7, 10, 13, 15, 16, 17, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28], "usabl": [], "usag": [13, 14, 17, 19, 20, 27], "use_experiment": [], "use_gpu": 9, "user": [15, 16, 18, 23], "user_input": [16, 18], "user_inputs_batch": [16, 18], "user_inputs_of_batch": [16, 18], "user_prompt": 15, "usr": [23, 24], "util": [16, 19, 20, 22, 25], "v": [0, 9, 23], "v0": [0, 6, 15, 16, 18, 19, 20, 21, 23, 26, 27, 28], "v1": [19, 20, 22, 23, 27, 28], "vaild_mask": 0, "valid": [0, 11], "valid_mask": 0, "valu": [0, 1, 2, 4, 11, 19, 20], "value_bin": [], "valueerror": [8, 9], "variabl": [0, 3, 5, 19, 20], "varieti": 28, "ve": 16, "venv": 24, "veri": 19, "verifi": 23, "via": [6, 8, 25, 28], "view": 26, "virtual": 24, "visit": 23, "vllm": [6, 13, 15, 16, 17, 18, 19, 20, 22, 23, 24, 25, 27, 28], "vllm_adapt": [], "vllm_inject": [], "vllmnestedtuplegpuconnector": 9, "vllmpagedmemgpuconnector": 9, "vllmpagedmemgpuconnectorv2": 9, "vspec": [], "w": [16, 18], "wai": [4, 6, 16], "wait": 20, "want": 23, "warm": 26, "watch": 27, "we": [2, 9, 17, 20, 24], "webui": 26, "weight": 26, "well": 27, "what": [15, 18], "wheel": 24, "when": [1, 8, 9, 13, 24], "whenev": [], "where": [0, 8, 9], "whether": [0, 1, 2, 4, 6, 7, 13, 16, 18], "which": [8, 9, 17, 26], "while": 24, "who": 23, "whole": 9, "within": [19, 20], "without": 20, "word": [18, 26], "worker": 2, "worker_id": [], "world_siz": [], "wrap": [4, 6, 10], "wrapper": [], "write": [16, 17, 18, 23, 26], "writer": [], "x": [4, 6, 22, 23], "xq": [], "y": 24, "yaml": [3, 5, 13, 15, 16, 18, 22, 25], "yet": [6, 24], "you": [4, 6, 13, 15, 16, 17, 18, 19, 20, 23, 24, 25, 28], "your": [16, 17, 18, 19, 20, 22, 23, 24, 26, 28], "your_huggingface_token": 23, "yourself": 26, "z": [], "zip": []}, "titles": ["KV Blending", "KVCache Evictor", "vLLM Integration", "LMCache v0", "Configuring LMCache v0", "LMCache v1", "Configuring LMCache v1", "LMCache Backend Interface", "LMCache Engine Interface", "LMCache GPU Connector Interface", "LMCache Memory Interface", "LMCache Memory Object", "LMCache Overview", "Selecting a backend", "LMCache v0", "KV blending", "Usage", "End-to-end measurements", "Saving the decode cache", "CPU Offloading", "Disaggregated prefill", "LMCache v1", "P2P KV Cache Sharing", "Docker Installation", "Installation Guide", "Quickstart", "3 Min Quick Example: Docker + Speedup with vLLM", "Welcome to LMCache!", "Supported Models"], "titleterms": {"": 27, "3": 26, "abstract_backend": [], "abstract_serv": [], "advanc": 27, "backend": [7, 13], "base_connector": [], "base_evictor": [], "base_pool": [], "blend": [0, 15], "build": 23, "cach": [18, 22], "cache_engin": [], "cachegen_bas": [], "cachegen_decod": [], "cachegen_encod": [], "clean": 26, "compat": 24, "config": [], "configur": [3, 4, 5, 6, 27], "connector": 9, "contain": 23, "content": [], "cpu": 19, "decod": 18, "demo": 26, "detail": 27, "develop": 27, "disaggreg": 20, "distributed_serv": [], "do": 26, "docker": [23, 26], "document": 27, "end": 17, "engin": 8, "environ": [4, 6], "evictor": 1, "exampl": [14, 21, 26, 27], "executor": [], "experiment": [], "fast_serd": [], "file": [4, 6], "from": [23, 24], "further": 17, "get": 27, "gpu": 9, "gpu_connector": [], "guid": 24, "happen": 26, "how": [15, 16, 18], "hybrid_backend": [], "imag": 23, "infinistore_connector": [], "instal": [23, 24], "instanc": [], "integr": 2, "inter": [], "interfac": [7, 8, 9, 10], "introduct": 26, "kivi_serd": [], "kv": [0, 15, 22], "kvcach": 1, "level": [], "llm": [], "lm_connector": [], "lmcach": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 21, 25, 27], "local_backend": [], "local_disk_backend": [], "local_pool": [], "log": [], "lookup_serv": [], "lru_evictor": [], "matrix": 24, "measur": 17, "mem_pool": [], "memori": [10, 11], "memory_manag": [], "metric": 17, "min": 26, "model": [27, 28], "modul": [], "naive_serd": [], "naive_serv": [], "need": 26, "next": 27, "object": 11, "offload": 19, "overview": 12, "p2p": 22, "packag": [], "perform": [17, 26], "pip": 24, "prefil": 20, "prerequisit": [22, 26], "protocol": [], "pull": 23, "quick": 26, "quickstart": 25, "redis_connector": [], "redis_serv": [], "releas": 24, "remote_backend": [], "requir": 24, "retriev": [], "run": [17, 23, 26], "safe_serd": [], "save": 18, "select": 13, "serd": [], "server": [], "server_storage_backend": [], "share": 22, "sourc": [23, 24], "speedup": 26, "start": 27, "step": [22, 26], "storag": [], "storage_backend": [], "storage_manag": [], "submodul": [], "subpackag": [], "support": 28, "test": [17, 23], "token_databas": [], "torch_serd": [], "up": 26, "us": [4, 6], "usag": 16, "util": [], "v0": [3, 4, 14, 24, 25], "v1": [5, 6, 21, 24, 25], "variabl": [4, 6], "version": 24, "vllm": [2, 26], "vllm_adapt": [], "welcom": 27, "what": [26, 27], "when": 26, "yaml": [4, 6], "you": 26}})